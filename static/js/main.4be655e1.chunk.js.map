{"version":3,"sources":["components/AudioVisualiser/AudioVisualiser.js","components/AudioAnalyser/AudioAnalyser.js","components/Tuning/Tuning.js","components/Waveform/Waveform.js","components/Envelope/Envelope.js","components/Synth/frequencies.js","components/Synth/Synth.js","components/App/App.js","serviceWorker.js","index.js"],"names":["AudioVisualiser","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","canvas","React","createRef","draw","current","width","height","context","getContext","scaling","risingEdge","fillStyle","clearRect","lineWidth","strokeStyle","beginPath","audioData","x","length","lineTo","stroke","react_default","a","createElement","ref","Component","AudioAnalyser","state","Uint8Array","tick","bind","assertThisInitialized","analyser","audioContext","createAnalyser","dataArray","frequencyBinCount","amp","connect","rafId","requestAnimationFrame","getByteTimeDomainData","setState","cancelAnimationFrame","disconnect","components_AudioVisualiser_AudioVisualiser","Tuning","_ref","setTuning","tuning","className","FormLabel","component","RadioGroup","aria-label","name","value","onChange","FormControlLabel","control","Radio","label","Waveform","setWaveform","waveform","StyledSlider","withStyles","thumb","backgroundColor","&$focused, &:hover","boxShadow","concat","fade","&$activated","&$jumped","track","trackAfter","focused","activated","jumped","Slider","Envelope","handleChange","event","type","setEnvelope","_this2","lib_default","style","lineStyle","strokeWidth","envelope","attack","d","decay","s","sustain","r","release","Typography","id","min","max","aria-labelledby","justKeyToFrequency","f","g","h","j","k","l","equalKeyToFrequency","EnvGen","require","Synth","activeOscillators","frequencies","handleKeyDown","handleKeyUp","play","stop","window","AudioContext","webkitAudioContext","volume","createGain","gain","destination","document","addEventListener","key","oscillator","createOscillator","frequency","mode","attackTime","decayTime","sustainLevel","releaseTime","prevState","objectSpread","defineProperty","start","gateOn","currentTime","gateOff","target","components_AudioAnalyser_AudioAnalyser","components_Tuning_Tuning","components_Waveform_Waveform","components_Envelope_Envelope","App","components_Synth_Synth","Boolean","location","hostname","match","ReactDOM","render","components_App_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4be655e1.chunk.js","sourcesContent":["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass AudioVisualiser extends Component {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n  }\n\n  componentDidUpdate() {\n    this.draw();\n  }\n\n  draw() {\n    // draw function with still waves courtesy of: https://codepen.io/ContemporaryInsanity\n    const canvas = this.canvas.current;\n    const width = canvas.width;\n    const height = canvas.height;\n    const context = canvas.getContext(\"2d\");\n    const scaling = height / 256;\n    let risingEdge = 0;\n    const edgeThreshold = 5;\n\n    context.fillStyle = \"rgba(40, 56, 68, 0.21)\";\n    context.clearRect(0, 0, width, height);\n\n    context.lineWidth = 2;\n    context.strokeStyle = \"#fff\";\n    context.beginPath();\n\n    // No buffer overrun protection\n    while (this.props.audioData[risingEdge++] - 128 > 0 && risingEdge <= width);\n    if (risingEdge >= width) risingEdge = 0;\n\n    while (this.props.audioData[risingEdge++] - 128 < edgeThreshold && risingEdge <= width);\n    if (risingEdge >= width) risingEdge = 0;\n\n    for (let x = risingEdge; x < this.props.audioData.length && x - risingEdge < width; x++) {\n      context.lineTo(x - risingEdge, height - this.props.audioData[x] * scaling);\n    }\n\n    context.stroke();\n  }\n\n  render() {\n    return <canvas width=\"800\" height=\"256\" ref={this.canvas} />;\n  }\n}\n\nAudioVisualiser.propTypes = {\n  audioData: PropTypes.object.isRequired,\n};\n\nexport default AudioVisualiser;\n","import React from \"react\";\nimport AudioVisualiser from \"../AudioVisualiser/AudioVisualiser\";\nimport PropTypes from \"prop-types\";\n\nclass AudioAnalyser extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {audioData: new Uint8Array(0)};\n    this.tick = this.tick.bind(this);\n  }\n\n  componentDidMount() {\n    this.analyser = this.props.audioContext.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    this.props.amp.connect(this.analyser);\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  tick() {\n    this.analyser.getByteTimeDomainData(this.dataArray);\n    this.setState({audioData: this.dataArray});\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n  }\n\n  render() {\n    return (\n      <div>\n        <AudioVisualiser audioData={this.state.audioData}/>\n      </div>\n    );\n  }\n}\n\nAudioAnalyser.propTypes = {\n  audioContext: PropTypes.object.isRequired,\n  amp: PropTypes.object.isRequired,\n};\n\nexport default AudioAnalyser;\n","import React from \"react\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport PropTypes from \"prop-types\";\nimport \"./Tuning.css\";\n\nconst Tuning = ({\n  setTuning,\n  tuning,\n}) => {\n  return (\n    <div className=\"radiobuttons\">\n      <FormLabel className=\"parametertitle\" component=\"legend\">Tuning</FormLabel>\n      <RadioGroup\n        aria-label=\"Tuning\"\n        name=\"tuning\"\n        className=\"radiogroup\"\n        value={tuning}\n        onChange={setTuning}\n      >\n        <FormControlLabel className=\"radiolabel\" value=\"just\" control={<Radio className=\"radio\"/>} label=\"just intonation\" />\n        <FormControlLabel className=\"radiolabel\" value=\"equal\" control={<Radio className=\"radio\"/>} label=\"equal temperament\" />\n\n      </RadioGroup>\n    </div>\n  );\n};\n\nTuning.propTypes = {\n  setTuning: PropTypes.func.isRequired,\n  tuning: PropTypes.string.isRequired,\n};\n\nexport default Tuning;\n","import React from \"react\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport PropTypes from \"prop-types\";\nimport \"./Waveform.css\";\n\nconst Waveform = ({\n  setWaveform,\n  waveform,\n}) => {\n  return (\n    <div className=\"radiobuttons\">\n      <FormLabel className=\"parametertitle\" component=\"legend\">Waveform</FormLabel>\n      <RadioGroup\n        aria-label=\"Waveform\"\n        name=\"waveform\"\n        className=\"radiogroup\"\n        value={waveform}\n        onChange={setWaveform}\n      >\n        <FormControlLabel className=\"radiolabel\" value=\"sine\" control={<Radio className=\"radio\"/>} label=\"sine\" />\n        <FormControlLabel className=\"radiolabel\" value=\"square\" control={<Radio className=\"radio\"/>} label=\"square\" />\n        <FormControlLabel className=\"radiolabel\" value=\"sawtooth\" control={<Radio className=\"radio\"/>} label=\"sawtooth\" />\n        <FormControlLabel className=\"radiolabel\" value=\"triangle\" control={<Radio className=\"radio\"/>} label=\"triangle\" />\n\n      </RadioGroup>\n    </div>\n  );\n};\n\nWaveform.propTypes = {\n  setWaveform: PropTypes.func.isRequired,\n  waveform: PropTypes.string.isRequired,\n};\n\nexport default Waveform;\n","import React from \"react\";\nimport EnvelopeGraph from \"adsr-envelope-graph\";\nimport Slider from \"@material-ui/lab/Slider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {fade} from \"@material-ui/core/styles/colorManipulator\";\nimport PropTypes from \"prop-types\";\nimport \"./Envelope.css\";\n\nconst StyledSlider = withStyles({\n  thumb: {\n    height: 20,\n    width: 20,\n    backgroundColor: \"#fff\",\n    \"&$focused, &:hover\": {\n      boxShadow: `0px 0px 0px ${8}px ${fade(\"#de235b\", 0.16)}`,\n    },\n    \"&$activated\": {\n      boxShadow: `0px 0px 0px ${8 * 1.5}px ${fade(\"#de235b\", 0.16)}`,\n    },\n    \"&$jumped\": {\n      boxShadow: `0px 0px 0px ${8 * 1.5}px ${fade(\"#de235b\", 0.16)}`,\n    },\n  },\n  track: {\n    backgroundColor: \"#fff\",\n    height: 2,\n  },\n  trackAfter: {\n    backgroundColor: \"#fff\",\n  },\n  focused: {},\n  activated: {},\n  jumped: {},\n})(Slider);\n\nclass Envelope extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event, value, type) {\n    this.props.setEnvelope(type, value);\n  }\n  render() {\n    return (\n      <div className=\"envelope\">\n        <FormLabel className=\"envelopeparametertitle\" component=\"legend\">Envelope</FormLabel>\n        <div className=\"graph\">\n          <EnvelopeGraph style={\n            {height: \"100%\", width: \"100%\"}}\n          lineStyle={\n            {strokeWidth: \"1.5px\"}\n          }\n          a={this.props.envelope.attack}\n          d={this.props.envelope.decay}\n          s={this.props.envelope.sustain}\n          r={this.props.envelope.release}\n          />\n        </div>\n        <div className=\"sliders\">\n\n          <Typography id=\"label\">attack</Typography>\n          <StyledSlider\n            id=\"attack\"\n            className=\"slider\"\n            value={this.props.envelope.attack}\n            min={0.01}\n            max={2}\n            aria-labelledby=\"label\"\n            onChange={(event, value) => {\n              this.handleChange(event, value, \"attack\");\n            }}\n          />\n          <Typography id=\"label\">decay</Typography>\n          <StyledSlider\n            id=\"attack\"\n            className=\"slider\"\n            value={this.props.envelope.decay}\n            min={0.01}\n            max={2}\n            aria-labelledby=\"label\"\n            onChange={(event, value) => {\n              this.handleChange(event, value, \"decay\");\n            }}\n          />\n          <Typography id=\"label\">sustain</Typography>\n          <StyledSlider\n            id=\"attack\"\n            className=\"slider\"\n            value={this.props.envelope.sustain}\n            min={0}\n            max={1}\n            aria-labelledby=\"label\"\n            onChange={(event, value) => {\n              this.handleChange(event, value, \"sustain\");\n            }}\n          />\n          <Typography id=\"label\">release</Typography>\n          <StyledSlider\n            id=\"attack\"\n            className=\"slider release\"\n            value={this.props.envelope.release}\n            min={0.01}\n            max={2}\n            aria-labelledby=\"label\"\n            onChange={(event, value) => {\n              this.handleChange(event, value, \"release\");\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nEnvelope.propTypes = {\n  setEnvelope: PropTypes.func.isRequired,\n  envelope: PropTypes.objectOf(PropTypes.number).isRequired,\n};\n\nexport default Envelope;\n","// This is tuned to just intonation\nexport const justKeyToFrequency = {\n  a: 261.63, // C\n  s: 294.33, // D\n  d: 327.03, // E\n  f: 392.44, // G\n  g: 436.05, // A\n  h: 523.25, // C\n  j: 588.66, // D\n  k: 654.06, // E\n  l: 697.66, // F\n};\n\n// This is tuned to equal temperament\nexport const equalKeyToFrequency = {\n  a: 261.63, // C\n  s: 293.66, // D\n  d: 329.63, // E\n  f: 392.00, // G\n  g: 440.00, // A\n  h: 523.25, // C\n  j: 587.32, // D\n  k: 659.26, // E\n  l: 698.46, // F\n};\n","import React from \"react\";\r\nimport AudioAnalyser from \"../AudioAnalyser/AudioAnalyser\";\r\nimport Tuning from \"../Tuning/Tuning\";\r\nimport Waveform from \"../Waveform/Waveform\";\r\nimport Envelope from \"../Envelope/Envelope\";\r\nimport {justKeyToFrequency, equalKeyToFrequency} from \"./frequencies.js\";\r\nimport \"./Synth.css\";\r\n\r\nconst EnvGen = require(\"fastidious-envelope-generator\");\r\n\r\nclass Synth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeOscillators: {},\r\n      audioData: new Uint8Array(0),\r\n      tuning: {type: \"just\", frequencies: justKeyToFrequency},\r\n      waveform: \"sine\",\r\n      envelope: {attack: 0.1, decay: 0.01, sustain: 1, release: 0.1},\r\n    };\r\n\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleKeyUp = this.handleKeyUp.bind(this);\r\n    this.play = this.play.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.setTuning = this.setTuning.bind(this);\r\n    this.setWaveform = this.setWaveform.bind(this);\r\n    this.setEnvelope = this.setEnvelope.bind(this);\r\n    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n    this.volume = this.audioContext.createGain();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.volume.gain.value = 0.2;\r\n    this.volume.connect(this.audioContext.destination);\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n    document.addEventListener(\"keyup\", this.handleKeyUp);\r\n  }\r\n  handleKeyDown(event) {\r\n    const key = event.key;\r\n    if (!this.state.activeOscillators[key] && this.state.tuning.frequencies[key]) {\r\n      this.play(key);\r\n    }\r\n  }\r\n\r\n  handleKeyUp(event) {\r\n    const key = event.key;\r\n    if (this.state.activeOscillators[key]) {\r\n      this.stop(key);\r\n    }\r\n  }\r\n\r\n  play(key) {\r\n    const oscillator = this.audioContext.createOscillator();\r\n    oscillator.frequency.value = this.state.tuning.frequencies[key];\r\n    oscillator.type = this.state.waveform;\r\n    const amp = this.audioContext.createGain();\r\n    amp.connect(this.volume);\r\n    const envelope = new EnvGen(this.audioContext, amp.gain);\r\n    envelope.mode = \"ADSR\";\r\n    envelope.attackTime = this.state.envelope.attack;\r\n    envelope.decayTime = this.state.envelope.decay;\r\n    envelope.sustainLevel = this.state.envelope.sustain;\r\n    envelope.releaseTime = this.state.envelope.release;\r\n    this.setState((prevState) => ({\r\n      activeOscillators: {\r\n        ...prevState.activeOscillators,\r\n        [key]: {oscillator: oscillator, envelope: envelope},\r\n      },\r\n    }));\r\n    this.state.activeOscillators[key].oscillator.connect(amp);\r\n    this.state.activeOscillators[key].oscillator.start();\r\n    this.state.activeOscillators[key].envelope.gateOn(this.audioContext.currentTime);\r\n  }\r\n\r\n  stop(key) {\r\n    this.state.activeOscillators[key].envelope.gateOff(this.audioContext.currentTime);\r\n    // stop oscillator after 10 seconds, mostly for performance. Does it actually affect it? Will have to research that\r\n    this.state.activeOscillators[key].oscillator.stop(this.audioContext.currentTime + 10);\r\n    delete this.state.activeOscillators[key];\r\n  }\r\n\r\n  setTuning(event) {\r\n    let frequencies = justKeyToFrequency;\r\n    if (event.target.value === \"equal\") {\r\n      frequencies = equalKeyToFrequency;\r\n    }\r\n    this.setState({tuning: {type: event.target.value, frequencies: frequencies}});\r\n  }\r\n\r\n  setWaveform(event) {\r\n    this.setState({waveform: event.target.value});\r\n  }\r\n\r\n  setEnvelope(type, value) {\r\n    this.setState((prevState) => ({\r\n      envelope: {\r\n        ...prevState.envelope,\r\n        [type]: value,\r\n      },\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"synthDiv\">\r\n        <AudioAnalyser audioContext={this.audioContext} activeOscillators={this.state.activeOscillators} amp={this.volume}/>\r\n        <h2>Synth Parameters</h2>\r\n        <div className=\"parameters\">\r\n          <div className=\"radioparameters\">\r\n            <Tuning setTuning={this.setTuning} tuning={this.state.tuning.type} />\r\n            <Waveform setWaveform={this.setWaveform} waveform={this.state.waveform}/>\r\n          </div>\r\n          <Envelope setEnvelope={this.setEnvelope} envelope={this.state.envelope}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Synth;\r\n","import React from \"react\";\nimport Synth from \"../Synth/Synth\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Synth/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}